<h1 id="tableLabel">Cadastrar Despesa</h1>

<p *ngIf="!despesas && listar"><em>Carregando...</em></p>

<div class="row">
  <h4>&nbsp;</h4>
</div>
<div class="row">
  <h4>&nbsp;</h4>
</div>
<div class="row">
  <h4>&nbsp;</h4>
</div>
<div style="width: 400px; margin: auto;">
  <div class="submit-form">
    <div *ngIf="!submited">
      <div class="form-group">
        <label for="descricao"><strong>Descrição</strong> &nbsp; &nbsp; </label>
        <input type="text"
               class="form-control"
               style=" padding: 0; height: 30px; position: relative; left: 0; outline: none; border: 1px solid #cdcdcd; border-color: rgba(0, 0, 0, .15); background-color: white; font-size: 16px; "
               id="descricao"
               required
               [(ngModel)]="despesa.descricao"
               name="descricao" />
      </div>
      <div class="row">
        <h4>&nbsp;</h4>
      </div>
      <div class="form-group">
        <label for="valor"><strong>Valor</strong> &nbsp; &nbsp;</label>
        <input class="form-control"
               style=" padding: 0; height: 30px; position: relative; left: 0; outline: none; border: 1px solid #cdcdcd; border-color: rgba(0, 0, 0, .15); background-color: white; font-size: 16px; "
               id="valor"
               required
               [(ngModel)]="despesa.valor"
               name="Valor" />
      </div>
      <div class="row">
        <h4>&nbsp;</h4>
      </div>
      <div class="form-group">
        <label for="local"><strong>Local</strong> &nbsp; &nbsp;</label>
        <input class="form-control"
               style=" padding: 0; height: 30px; position: relative; left: 0; outline: none; border: 1px solid #cdcdcd; border-color: rgba(0, 0, 0, .15); background-color: white; font-size: 16px; "
               id="local"
               required
               [(ngModel)]="despesa.local"
               name="local" />
      </div>
      <div class="row">
        <h4>&nbsp;</h4>
      </div>
      <button (click)="salvar()"
              class="btn btn-success"
              style="background-color: #222;  border-radius: 4px;  border-style: none;  box-sizing: border-box;  color: #fff;  cursor: pointer;  display: inline-block;  font-size: 16px; font-weight: 700; line-height: 1.5; margin: 0; max-width: none; min-height: 20px; min-width: 10px; outline: none; overflow: hidden; padding: 9px 20px 8px; position: relative; text-align: center; text-transform: none; user-select: none; -webkit-user-select: none; touch-action: manipulation; width: 200px;">
        Salvar
      </button>
    </div>
    <div *ngIf="submited">
      <h4>Dados enviados!</h4>
      <div class="row">
        <h4>&nbsp;</h4>
      </div>
      <button class="btn btn-success"
              style="background-color: #222;  border-radius: 4px;  border-style: none;  box-sizing: border-box;  color: #fff;  cursor: pointer;  display: inline-block;  font-size: 16px; font-weight: 700; line-height: 1.5; margin: 0; max-width: none; min-height: 20px; min-width: 10px; outline: none; overflow: hidden; padding: 9px 20px 8px; position: relative; text-align: center; text-transform: none; user-select: none; -webkit-user-select: none; touch-action: manipulation; width: 200px;" (click)="adicionarDespesa()">
        Adicionar Despesa
      </button>
    </div>
    <div class="row">
      <h4>&nbsp;</h4>
    </div>
    <div class="row">
      <h4>&nbsp;</h4>
    </div>
  </div>
</div>

<div *ngIf="submited || !submited">
  <div class="row">
    <h4>&nbsp;</h4>
  </div>
  <div class="row">
    <button class="btn btn-success"
            style="background-color: #222;  border-radius: 4px;  border-style: none;  box-sizing: border-box;  color: #fff;  cursor: pointer;  display: inline-block;  font-size: 16px; font-weight: 700; line-height: 1.5; margin: 0; max-width: none; min-height: 20px; min-width: 10px; outline: none; overflow: hidden; padding: 9px 20px 8px; position: relative; text-align: center; text-transform: none; user-select: none; -webkit-user-select: none; touch-action: manipulation; width: 200px;" (click)="listarRegistros()">
      Listar registros
    </button>
  </div>
  <div class="row">
    <h4>&nbsp;</h4>
  </div>
  <div class="row">
    <button class="btn btn-success"
            style="background-color: #222;  border-radius: 4px;  border-style: none;  box-sizing: border-box;  color: #fff;  cursor: pointer;  display: inline-block;  font-size: 16px; font-weight: 700; line-height: 1.5; margin: 0; max-width: none; min-height: 20px; min-width: 10px; outline: none; overflow: hidden; padding: 9px 20px 8px; position: relative; text-align: center; text-transform: none; user-select: none; -webkit-user-select: none; touch-action: manipulation; width: 200px;" (click)="limparListagem()">
      Limpar listagem de registros
    </button>
  </div>
  <div class="row">
    <h4>&nbsp;</h4>
  </div>
</div>

<table class='table table-striped' aria-labelledby="tableLabel" *ngIf="despesas && listar">
  <thead>
    <tr>
      <th>Descrição</th>
      <th>Valor</th>
      <th>Local</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let despesa of despesas">
      <td width="50%">{{ despesa.descricao }}</td>
      <td width="22%">{{ despesa.valor }}</td>
      <td width="22%">{{ despesa.local }}</td>
      <td width="3%"> <button class="btn btn-success" style="background-color: #222;  border-radius: 4px;  border-style: none;  box-sizing: border-box;  color: #fff;  cursor: pointer;  display: inline-block;  font-size: 16px; font-weight: 700; line-height: 1.5; margin: 0; max-width: none; min-height: 20px; min-width: 5px; outline: none; overflow: hidden; padding: 9px 20px 8px; position: relative; text-align: center; text-transform: none; user-select: none; -webkit-user-select: none; touch-action: manipulation; width: 100px;" (click)="editarItem(despesa.id)"> Editar </button> </td>
      <td width="3%"> <button class="btn btn-success" style="background-color: #222;  border-radius: 4px;  border-style: none;  box-sizing: border-box;  color: #fff;  cursor: pointer;  display: inline-block;  font-size: 16px; font-weight: 700; line-height: 1.5; margin: 0; max-width: none; min-height: 20px; min-width: 5px; outline: none; overflow: hidden; padding: 9px 20px 8px; position: relative; text-align: center; text-transform: none; user-select: none; -webkit-user-select: none; touch-action: manipulation; width: 100px;" (click)="removerItem(despesa.id)"> Remover </button> </td>
    </tr>
  </tbody>
</table>
