<h1 id="tableLabel">Cadastrar Usuário</h1>

<p *ngIf="!usuarios && listar"><em>Carregando...</em></p>

<div class="row">
  <h4>&nbsp;</h4>
</div>
<div class="row">
  <h4>&nbsp;</h4>
</div>
<div class="row">
  <h4>&nbsp;</h4>
</div>
<div style="width: 400px; margin: auto;">
  <div class="submit-form">
    <div *ngIf="!submited">
      <div class="form-group">
        <label for="nome"><strong>Nome</strong> &nbsp; &nbsp; </label>
        <input type="text"
               class="form-control"
               style=" padding: 0; height: 30px; position: relative; left: 0; outline: none; border: 1px solid #cdcdcd; border-color: rgba(0, 0, 0, .15); background-color: white; font-size: 16px; "
               id="nome"
               required
               [(ngModel)]="usuario.nome"
               name="nome" />
      </div>
      <div class="row">
        <h4>&nbsp;</h4>
      </div>
      <div class="form-group">
        <label for="email"><strong>Email</strong> &nbsp; &nbsp;</label>
        <input class="form-control"
               style=" padding: 0; height: 30px; position: relative; left: 0; outline: none; border: 1px solid #cdcdcd; border-color: rgba(0, 0, 0, .15); background-color: white; font-size: 16px; "
               id="email"
               required
               [(ngModel)]="usuario.email"
               name="Email" />
      </div>
      <div class="row">
        <h4>&nbsp;</h4>
      </div>
      <div class="form-group">
        <label for="celular"><strong>Celular</strong> &nbsp; &nbsp;</label>
        <input class="form-control"
               style=" padding: 0; height: 30px; position: relative; left: 0; outline: none; border: 1px solid #cdcdcd; border-color: rgba(0, 0, 0, .15); background-color: white; font-size: 16px; "
               id="celular"
               required
               [(ngModel)]="usuario.celular"
               name="celular" />
      </div>
      <div class="row">
        <h4>&nbsp;</h4>
      </div>      
      <button (click)="salvar()"
              class="btn btn-success"
              style="background-color: #222;  border-radius: 4px;  border-style: none;  box-sizing: border-box;  color: #fff;  cursor: pointer;  display: inline-block;  font-size: 16px; font-weight: 700; line-height: 1.5; margin: 0; max-width: none; min-height: 20px; min-width: 10px; outline: none; overflow: hidden; padding: 9px 20px 8px; position: relative; text-align: center; text-transform: none; user-select: none; -webkit-user-select: none; touch-action: manipulation; width: 200px;">
        Salvar
      </button>
    </div>
    <div *ngIf="submited">
      <h4>Dados enviados!</h4>
      <div class="row">
        <h4>&nbsp;</h4>
      </div>
      <button class="btn btn-success"
              style="background-color: #222;  border-radius: 4px;  border-style: none;  box-sizing: border-box;  color: #fff;  cursor: pointer;  display: inline-block;  font-size: 16px; font-weight: 700; line-height: 1.5; margin: 0; max-width: none; min-height: 20px; min-width: 10px; outline: none; overflow: hidden; padding: 9px 20px 8px; position: relative; text-align: center; text-transform: none; user-select: none; -webkit-user-select: none; touch-action: manipulation; width: 200px;" (click)="adicionarUsuario()">
        Adicionar Usuário
      </button>
    </div>
    <div class="row">
      <h4>&nbsp;</h4>
    </div>
    <div class="row">
      <h4>&nbsp;</h4>
    </div>
  </div>
</div>

<div *ngIf="submited || !submited">
  <div class="row">
    <h4>&nbsp;</h4>
  </div>
  <div class="row">
    <button class="btn btn-success"
            style="background-color: #222;  border-radius: 4px;  border-style: none;  box-sizing: border-box;  color: #fff;  cursor: pointer;  display: inline-block;  font-size: 16px; font-weight: 700; line-height: 1.5; margin: 0; max-width: none; min-height: 20px; min-width: 10px; outline: none; overflow: hidden; padding: 9px 20px 8px; position: relative; text-align: center; text-transform: none; user-select: none; -webkit-user-select: none; touch-action: manipulation; width: 200px;" (click)="listarRegistros()">
      Listar registros
    </button>
  </div>
  <div class="row">
    <h4>&nbsp;</h4>
  </div>
  <div class="row">
    <button class="btn btn-success"
            style="background-color: #222;  border-radius: 4px;  border-style: none;  box-sizing: border-box;  color: #fff;  cursor: pointer;  display: inline-block;  font-size: 16px; font-weight: 700; line-height: 1.5; margin: 0; max-width: none; min-height: 20px; min-width: 10px; outline: none; overflow: hidden; padding: 9px 20px 8px; position: relative; text-align: center; text-transform: none; user-select: none; -webkit-user-select: none; touch-action: manipulation; width: 200px;" (click)="limparListagem()">
      Limpar listagem de registros
    </button>
  </div>
  <div class="row">
    <h4>&nbsp;</h4>
  </div>
</div>

<table class='table table-striped' aria-labelledby="tableLabel" *ngIf="usuarios && listar">
  <thead>
    <tr>
      <th>Id &nbsp; &nbsp; &nbsp; &nbsp;</th>
      <th>Nome &nbsp; &nbsp; &nbsp; &nbsp;</th>
      <th>Email &nbsp; &nbsp; &nbsp; &nbsp;</th>
      <th>Celular &nbsp; &nbsp; &nbsp; &nbsp;</th>
      <th>&nbsp; &nbsp; &nbsp; &nbsp;</th>
      <th>&nbsp; &nbsp; &nbsp; &nbsp;</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let usuario of usuarios">
      <td>{{ usuario.id }}  &nbsp; &nbsp; &nbsp; &nbsp;</td>
      <td>{{ usuario.nome }}  &nbsp; &nbsp; &nbsp; &nbsp;</td>
      <td>{{ usuario.email }}  &nbsp; &nbsp; &nbsp; &nbsp;</td>
      <td>{{ usuario.celular }}  &nbsp; &nbsp; &nbsp; &nbsp;</td>
      <td> <button class="btn btn-success" style="background-color: #222;  border-radius: 4px;  border-style: none;  box-sizing: border-box;  color: #fff;  cursor: pointer;  display: inline-block;  font-size: 16px; font-weight: 700; line-height: 1.5; margin: 0; max-width: none; min-height: 20px; min-width: 10px; outline: none; overflow: hidden; padding: 9px 20px 8px; position: relative; text-align: center; text-transform: none; user-select: none; -webkit-user-select: none; touch-action: manipulation; width: 200px;" (click)="editarItem(usuario.id)"> Editar </button> </td>
      <td> <button class="btn btn-success" style="background-color: #222;  border-radius: 4px;  border-style: none;  box-sizing: border-box;  color: #fff;  cursor: pointer;  display: inline-block;  font-size: 16px; font-weight: 700; line-height: 1.5; margin: 0; max-width: none; min-height: 20px; min-width: 10px; outline: none; overflow: hidden; padding: 9px 20px 8px; position: relative; text-align: center; text-transform: none; user-select: none; -webkit-user-select: none; touch-action: manipulation; width: 200px;" (click)="removerItem(usuario.id)"> Remover </button> </td>
    </tr>
  </tbody>
</table>
